<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo By Nrupul</title>
    <style>
        .low{
            background-color: blue;
        }
        .med{
            background-color: orange;
        }
        .high{
            background-color: red;
        }
    </style>
</head>
<body>
    <form>
        <label>Item</label>
        <input type="text"id="item"/>
        <label >Priority</label>
        <select id="priority">
            <option value="low">Low</option>
            <option value="med">Med</option>
            <option value="high">High</option>
        </select>
        <input type="submit" value="Submit"/>
    </form>
<hr/>
<table border="1">
    <tr>
        <td>Item</td>
        <td>Priority</td>
        <td>Mark</td>
        <td>Action</td>
    </tr>
</table>
    <script>
        var formEle = document.querySelector('form');

        function addItem(e){
            e.preventDefault();
            console.log("Submitted");
            var itm = document.getElementById('item').value;
            var pri = document.getElementById('priority').value;

            createItem(itm, pri);
        }

        var count = 1;

        function completeItem(e){
            // console.log(e.target);
            var parent = e.target.parentNode;
            parent.style.background = "green";
            parent.style.textDecorationLine = "line-through";
            
        }

        function deleteItem(e){
            // console.log(e.target);
            var parent = e.target.parentNode;
            console.log(parent);
            parent.remove();
        }

        function createItem(itm, pri){
            var tbl = document.querySelector('table');

            var row = document.createElement('tr');

            var cell1 = document.createElement('td');
            cell1.textContent = itm;

            var cell2 = document.createElement('td');
            cell2.textContent = pri;

            var cell3 = document.createElement('td');
            cell3.textContent = 'Complete-'+ count;
            cell3.addEventListener('click', completeItem);

            var cell4 = document.createElement('td');
            cell4.textContent = 'Delete-'+count;
            cell4.addEventListener('click', deleteItem);
            
            count++;
            // add cells to the row
            row.appendChild(cell1);
            row.appendChild(cell2);
            row.appendChild(cell3);
            row.appendChild(cell4);
            row.setAttribute('class', pri);
            // add row to table
            tbl.appendChild(row);

            document.getElementById('item').value = "";
            document.getElementById('priority').value = "low";
        }

        formEle.addEventListener('submit',addItem);

    </script>
</body>
</html>